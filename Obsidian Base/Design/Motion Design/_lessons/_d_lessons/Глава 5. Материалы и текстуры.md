## Глава 5. Материалы и текстуры

- N-Q отключение текстур

- Карта GLOSS загружается в Reflectance - GGX - в парааметр Roughness (на стрелочку перед названием параметра нажать)

- Refl в Reflectance Strenght

- Чтобы инвертировать тестуры нужно: тыкнуть по иконке текстуры, поменять значения black point и white point местами

### Вводная часть

- Первым делом нужно исправить топологию объекта перед тем как начнём работать с его текстурами

- Далее создадим немного света. Первый источник с качественными тенями и хорошим тёплым цветом, а второй с холодным оттенком и без теней

- Ну и нужно добавить радиус затухания

- Брайтнесс в колоре отвечает впринципе за всю яркость цвета в материале

- Так же можно сделать отображение материала в виде чекерборда

- В настройках данного фильтра можно определить количество секторов и изменить их цвета

- Так же можно смешать чекер с основным цветом колора с помощью mix mode и mix strenght

- Так же тут можно поменять тип рассеивания света по поверхности

-

- Ну и когда мы уже закинули градиент, видно, что текстура определяется неправильно на объекте и покрывает не всю его часть, поэтому нужно её будет корректировать

- Меняем проекцию на flat

- Далее выбираем тэг текстуры, режим редактирования текстур и редактирования мировых осей и обычным методом редактируем координаты

- Тут можно поменять распределение градиента

- Тут есть на ПКМ быстрые шорткаты на инвертирование местами ползунков, раздвоение, распределение по краям и сброс до начальных параметров

- Тут меняется тип распределения градиента

- Чтобы сдублировать ползунок, нужно нажать ctrl и потянуть его в сторону

- Turbulence даст неравномерное распределение градиента

- Ну и далее идут остальные настройки шума градиента

- Чтобы поменять текстуру, нужно просто перетянуть новую на старую

- Фринель делает края более светлые и середину более тёмной. Всё зависит от угла камеры, так как изменения динамичны

- Чтобы убрать ползунок, нужно удерживая ЛКМ потянуть его вниз

- Фринель в таком случае сделал аккуратный градиент на объекте, где подчёркнуты края (тёмный оттенок не стоит делать экстремально тёмным, так как получится неестественно)

-

- Нойз генерирует текстуру шума

- Тут в настройках можно поменять цвет шума, его сид, поменять тип шума, размер общий и по одной из осей, включить анимацию у шума, понмеять период лупа анимации, сменить яркость и выраженность (low/high clip)

- Чтобы увидеть анимированную текстуру, нужно включить её анимированное превью

- Чтобы поменять тип шума, можно как тыкнуть по самому шуму, так и тыкнуть сбоку на маленький треугольник и выбрать нужный

- Первый тип – Лука. Генерирует детализированный шум для ржавчины и остальных попорченных объектов

- Ступл генерирует разводы

- Displaced Voronoi

### Каналы Diffusion and Luminance

- Данный канал создаёт неравномерности и неоднородности на канале color, которые влияют так же и на reflectance

- Все эффекты можно включить и выключить тут

- Цвет в текстуре никак не влияет на объект, так как отсюда берётся информация только о яркости

- Если подкинуть данный эффект, то на местах, где пересекается геометрия создаются затемнения – это вот и весь AO

- Ну и распространение AO можно регулировать в первую очередь ползунками. Так же можно поменять минимальную и максимальную длину, изменение дисперсии меняет дальность распространения, можно поменять контраст и инвертировать положение АО (вместо стыков выделяется всё кроме них). Данный эффект применяется зачастую для распространения грязи и пыли по объекту

- Так же можно вне его поменять силу применения

- Так же можно воспользоваться инструментом **filter** в канале цвета, который используют часто для цветокоррекции текстур

- Так же можно менять графики и тыкнув по линии с ctrl появится точка, за которую можно менять объект

- И внутри фильтра находится изменяемый слой (сначала выбрали в колоре нойз, а потом выбрали фильтр и вложится автоматом)

- Так же можно менять само смешание слоёв

- Канал Luminance создаёт просто равномерное испускание объектом света

- Далее, если включить канал color и luminance, то можно увидеть, что мы смотрим на первый канал сквозь второй и отображается у нас нижний канал по ЧБ карте фринеля

- Так же можно сделать фринель в канале цвета и скопировать шейдер в канал света и таким образом получится светящийся объект

### Канал Transparency

- Канал transparency отвечает за стеклянность материалов. Brightness отвечает за прозрачность, чем выше параметр, тем больше это стекло - стекло

- Самое главное – задать индекс рефракции. У стекла 1.52-1.57

- Если выключить дефолтный спекуляр, то ореол в стекле исчезнет

- Пресет PET - пластик

- Отвечают за внутренние отражения у стекла

- Обычно в текстуру загружают фринель

- Таким образом можно сделать небольшой ореолу стекла

-

-

- Данный параметр отвечает за абсорбцию цвета, то есть через какое расстояние просвечиваемый свет будет принимать такой цвет

- Блюринес отвечает за размытие стекла и потребляет крайне много ресурсов при расчёте

- Чтобы избавиться от черных рефлектов, можно поменять цвет этого отражения в канале reflectance

- Можно с шифтом выбрать параметры и сбросить их

- Сверху цвет применяется на весь материал сразу, а снизу только на проходящий какое-то расстояние цвет

- Сейчас делаем материал для вина. Выбираем пресет, меняем цвет

- Убираем канал цвета

-

-

-

-

- Так же можно просто построить окружение самому. Делаем объект скай, накидываем на него новый материал и в канал люминенс кидаем hdri карту

- Теперь можно увидеть отражения от карты

- Так же можно зайти внутрь текстуры с hdri и выбрать параметр экспозиции

-

- Далее всегда очень помогает для некоторых объектов добавление толщины. Как пример, можно привести стекляный шар. Просто накидываем материал с пресетом стекла и добавляя толщину, мы делаем более реалистичное стекло (тут 2 см толщины)

### Канал Reflectance

- Первым делом соединяем объекты через коннект и создадим из коннекта цельный объект (C), ну и подкидываем subdivision surface

- Так же можно локально поменять режим отображения сеток

- Смешение между слоями, глобальное отражение, отражение бликов

- Ширина блика, рассеивание, внутренняя ширина блика, сила спекуляра

-

- Fresnel

- Тут можно называть какие каналы и настройки были использованы, чтобы не забыть в будущем

- GGX создаёт хромированный материал, который вдальнейшем можно поменять на любой другой

- Для отражений нужна карта, чтобы не было глубоких тёмных участков и отражается в данном случае только пол

- Два сайта с hdri картами

- Изначально карта отображается во вьюпорте

- Но на объект можно накинуть тэг композинга, чтобы скрыть его из вида камеры

- Так же можно воспользоваться одним из пресетов кондакторов (проводники) и диэлектриков (пластик, стекло)

- Чем меньше параметр силы, тем больше отражений падает на объект

- Так же можно менять цвет объекта через фринель

- Roughness повышаем размыливание отражений и повышает время рендера

-

- Тут находится тип смешивания

- Убирает практически весь канал color и оставляет только отражения

- Справка

- Так же на канал roughness можно накинуть карту, по которой он будет работать

- В данном случае мы настроили нойз с близкими показателями хай и лоу клип

- Зачастую используется для дополнительной детализации объекта

- Так же можно уводить силу отражений далеко за 100%

- Так же можно сделать маску глобально для всего слоя канала

- В данном случае, пятна убирают глобально все отражения с этих участков

-

- Убираем цвет первой настройкой, а второй меняем силу спекуляра

- Сменив тип смешения на additive, теперь мы видим канал color

- Чуть выше мы сделали слой с отражениями, а сейчас делаем глянец. Делаем новый GGX слой и выбираем в настройках conductor

- Чтобы уменьшить силу отражения, можно уменьшить данные два параметра

- Так же через тэг композитинга можно убрать отражения объекта самого на себя

- Можно не выстраивать самостоятельно настройки металла и выбрать уже заготовленные физически-корректные

-  Меняя силу применения пресета меняется количество видности канала color

- Effects -> AO

- AO убирает рефлекшены на местах стыка геометрии

- Настройки AO

-

- Noise в канале roughness

-

### Урок 5. Продолжаем канал Reflectance

- Изначально канал золотого имеет белые отражения, но их можно увести ближе к жёлтому, чтобы эффект материала был сильнее

-

-

-

- Так же можно эффекты объединять в слои

-

-

### Урок 6. Anisantropy. Текстурирование металла

- Создаём анизантропный материал

- Меняем распространение блика на радиальное. Оффсетами меняем положение блика (в данном случае, он посередине)

- Можем поменять отображения материала на кубик

- Повышает контрастность спекуляра

-

- На N-Q выключаем текстуры и переходим в режим отображения текстур. Тут видно, что материал находится перпендикулярно объекту

-

- Тут настраивается сила отражения

- Тут ориентация блика

- Тут можно добавить шероховатости на материал и появляется отельная для него превьюшка

- Тут находятся настройки данных шероховатостей

-

-

- Чтобы обесцветить стоковый анизантропический материал, можно обесцветить слой с hdri картой

- Далее с ctrl можно продублировать слой

-

### Урок 7. Текстура ткани

-

- Пресет материала

- Пресет паттерна

- Можно поменять качество и размеры

- Чтобы скопировать цвет, можно просто потянуть один цвет на другой

- И тут же задаются цвета для материала

-  Тут идёт смягчение узора

- Тут меняются блики на материале

- Далее для создания блика добавляем анизантропию

-

-

-

-

### Урок 8. Environment + Fog + Normal + Displacement

- Environment просчитывает отражения на объекте без данного отражения снаружи (без карты окружения на том же скае)

- Fog создаёт дымку на объекте

- Bump, normal и displacement отвечают за создание неровностей на геометрии. Если первые два отвечают только за фэйковую деформацию, то последний реально деформирует объект

- Белые участки шума – выдавливаются, чёрные – вглубляются

-

-

-

- Так же можно закидывать нойзы в слой и применять их параллельно друг другу

- Сайт с текстурами

- В канал color закидываем текстуру с цветом объекта

- Карта нормалей по данным линиям определяет распределяет распространение света

- Позволяет из любого изображения получить карты бампа и нормалей

- Дисплейсмент работает на примитивных объектах (C)

- Повышает высоту деформаций. Как тут видно, деформация выглядит плохо. Происходит такое из-за недостаточного количество полигонов, поэтому можно выбрать саб полигон дисплейсмент и геометрия будет подразделяться ещё на несколько полигонов с целью детализации

- Но во вьюпорте сфера останется старой

- + тут за кадром немного увеличили масштаб нойза

- Дисплейсмент гнёт исходные полигоны, поэтому нужно повысить количество полигонов на плейне и подключить сабдисплейсмент

- Тут опять же меняется высота применения дисплейсмента

-

- Такие вот объекты делаются при помощи распространённой программы JSplacement

- Во-первых, в данной программе нужно выбрать тип генерируемой карты. Можно просто тыкать по изображению, чтобы генерировать новые карты

- Щёлкаем по иконке паттерна и он исчезает

- Тут сохраняется высота нужная дисплейсменту

-

- DotGrid генерирует точки вместо линий

- И их уже можно закинуть в альфаканал

-

### Урок 9. Glow+Alpha

- Альфа отображает только белые участки, находящиеся на чёрном

- И тень ловится от видимых участков

- Так как тут материал – анимированное видео, то нужно в эдиторе выбрать параметр анимированное превью

- Так же можно инвертировать альфу

- Так же альфаканал можно использовать для проявления материала снизу

- Glow создаёт свечение на выделенных участках объекта

- Свечение – это постэффект, который проявляется только после рендера, поэтому в физическом прогрессиве он никогда не отобразится

-

-

- Выключив данную галку можно настраивать свечение прямо в канале свечения

-

### Урок 10. SubSurfaceScattering

- SSS – эффект подповерхностного рассеивания, которое часто можно увидеть на неплотных или тонких объектах, чаще на органике

- Применяется в канале luminance как эффект на слой

- Обычный area light с тенями и фалофом

- А это уже с SSS

- Пресеты содержат в себе цвета выходящих оттенков и проходимость лучей с силой

- При раскрытии стрелочки можно самому настроить прохождение цветов через объект

-

- Взаимодействие с фринелем канала color

-

- Работа разных SSS

- Чтобы добиться хорошего результата, можно включить оба способа просчёта отскоков лучей. Мультипл работает быстрее

- Длина проходимого света

- В канал диффузии добавляется эффект АО

- AO

- Тут настраивается сила эффектов канала диффузии

- Тут можно немного поднять реализма через материал GGX

- Тут в рендере можно повысить качество SSS

-

-

-