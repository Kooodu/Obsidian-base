## **23 - Асинхронные функции**

### **001 Асинхронные функции**

- Это специальный синтаксис для упрощения работы с промисами
![](../_png/Pasted%20image%2020220908194023.png)
- Асинхронная функция вместо какого-либо значения всегда возвращает промис
![](../_png/Pasted%20image%2020220908194028.png)
- Данная функция вернёт в результате промис, а в качестве аргумента resolve будет передана возвращаемая строка
![](../_png/Pasted%20image%2020220908194036.png)
- И так же мы можем к вызову функции применить then() и catch() для обработки результата функции и работы с ней
![](../_png/Pasted%20image%2020220908194045.png)
- При появлении ошибки, мы будем видеть в статусе промиса **rejected**
![](../_png/Pasted%20image%2020220908194052.png)
- Обработка ошибок промиса
![](../_png/Pasted%20image%2020220908194100.png)
### **002 Использование await внутри асинхронных функций**

- Ключевое слово await позволяет нам не ожидать выполнение промиса, а сразу приступать к выполнению остальных инструкции внутри асинхронной функции. Данное ключевое слово работает только в асинхронной функции
![](../_png/Pasted%20image%2020220908194106.png)
### **003 Пример с async await**

- Мы имеем, собственно, асинхронную функцию. Создали первую функцию, которая возвращает нам результат промиса. Вторая функция выполняет промис, который выполняется обязательно прежде чем продолжить выполнение кода дальше (промисы дают выполнять код дальше в отличие от асинхронок)
![](../_png/Pasted%20image%2020220908194112.png)
### **004 Переход с промисов на async await**

- И вот пример гетДаты(), которая возвращает по итогу json формат данных. Переменные внутри функции заменяют then() и читаются лучше. Если выпадет ошибка, то промис просто будет автоматически отклонён
![](../_png/Pasted%20image%2020220908194123.png)
- И вот представлен пример сокращённого написания как самого промиса, так и быстрый вывод его результата (заменой then()). Однако в этом случае мы можем словить непойманную ошибку, так как обработки ошибки - нет

**_Тут нужно напомнить, что_** **_await_** **_можно использовать только внутри асинхронных функций. Дело в том, что браузер может обработать такой код, а внешние интерпретаторы - нет_**
![](../_png/Pasted%20image%2020220908194131.png)
### **005 Обработка ошибок в асинхронных функциях**

- Чтобы отловить ошибку, нужно будет поместить код вывода результата в блок трай-кэтч
![](../_png/Pasted%20image%2020220908194137.png)
### **006 Ключевые принципы в async await**

- Тут нужно поподробнее остановиться на последнем пункте. В асинхронных функциях будет ожидаться выполнение промиса, **но промисы** _не блокируют выполнение остальных частей фронт-энд приложения_ (например, нажатие каких-либо кнопок). И только тогда, когда выполнение промиса будет закончено (resolve/rejected – и не pending), функция продолжит своё выполнение
![](../_png/Pasted%20image%2020220908194144.png)