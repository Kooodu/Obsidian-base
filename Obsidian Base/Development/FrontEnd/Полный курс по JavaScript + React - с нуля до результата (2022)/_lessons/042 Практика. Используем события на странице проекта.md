
Задание:

![](_png/d6ab091b96876bcb32df15adfbe4e299.png)

`DOMContentLoaded` – браузер полностью загрузил HTML, было построено DOM-дерево, но внешние ресурсы, такие как картинки `<img>` и стили, могут быть ещё не загружены

![](_png/d18603dc9bac4f820e5bb249799175c3.png)
[Статья по событию DOMContentLoaded](https://learn.javascript.ru/onload-ondomcontentloaded)

обращение ко всем изображениям внутри класса

```JS
const ads = document.querySelectorAll('.promo__adv img');
```

Тут находятся все переменные в проекте (и необычные селекторы вызова)

![](_png/0f661bbd683cf47c159cda4263f97eba.png)

Это одна из самых сложных частей данного сайта – формирование списка фильмов. Первым делом, в текст вкладываемого родителя мы вставляем пустую строку, которая нам позволит очистить имеющиеся айтемы списка `<li>`. Дальше мы сортируем массив. Потом мы заменяем элемент списка, и именно вставляем новый айтем включая добавление HTML-структуры. Добавляем структуру через «+=», так как мы добавляем айтем списка - `<li>`.

Потом мы добавляем функционал удаления фильма из писка элементов. Сначала вызываем иконки с классом `delete`, в которые через `forEach` вставляем ивент, который будет срабатывать при нажатии `click`. Внутри ивента будем обращаться к родителю иконки и удалять его. Удалять уже фильм из массива будем через метод splice, в который поместим номер элемента (второй аргумент `forEach`) и количество элементов. Потом уже вызовем рекурсией наш фонрмировщик списка (для формирования обновлённой структуры)

![](_png/0a102afb6e30cc74342d30f1508c36bc.png)

Это дополнительные методы. Первый удаляет рекламу со страницы. Второй вносит изменения в жанре и фоне. Третий сортирует массив. Четвёртый проводит проверку наличия фильма в массиве (вызываем тоже при нажатии кнопки)

![](_png/486f4d4147d39e1c4db4e40f964c1179.png)

Это полное описание события `‘submit’`, которое хранит в себе порядок действий при нажатии на кнопку в форме

![](_png/ca6d09f957144519a0b7b28e12bd31ea.png)

А тут мы вызываем методы для изменения нашего списка (внутри него и сортировка тоже), внесения изменений (смена жанра и заднего фона) и удаления рекламы

![](_png/03bc7f1fb34acbdb6520fde063de2e83.png)