
==**Batching**== - это объединение обновления нескольких состояний в одну операцию для улучшения производительности. 
Объединение нескольких обновлений позволяет экономить ресурсы ПК за счёт единоразового перерендера

У нас есть функция, которая вызывает внутри себя срабатывание изменения двух разных состояний, то есть компонент должен перерендерится два раза и вывести два лога в консоль

![](_png/300c6f88ec500bfa77bc96316743b4c5.png)

Однако при каждом срабатывании функции и изменении двух состояний, мы получаем только один лог в консоль - обе эти операции совмещаются 

![](_png/becd0b34d5951004b0d363e717c51de3.png)

Но если поместить вызов изменения внутрь колбэка (то есть изменения происходят асинхронно), то мы будем получать два лога в консоль, так как эти состояния будут меняться отдельно друг от друга и каждый раз обновлять компонент

![](_png/e480f055e3f30e866cb3426daff55d5b.png)

![](_png/71659c8dab6a9acef44e8b7fc07ce0e1.png)

Так же если запихнуть `log()` в компонент `CharList`, то в консоли выведется сразу несколько таких логов, так как наши изменения состояний находятся в асинхронных функциях

Однако тут используется версия `React 18`, в котором оптимизированы некоторые изменения состояний и их бэтчинг, что сокращает количество перерендеров

![](_png/6e0b59e7613cad921ca7deb9b513ab3a.png)

![](_png/16a0551c66e92d1b4358af434e33588e.png)

Однако, если нам нужно разъединить операции обновления, то мы можем воспользоваться функцией `flushSync` (эту функцию нужно использовать отдельно на каждую операцию)

![](_png/a8875b969b49d59851e324c8370211d3.png)

![](_png/9a3efad687db3ca58760f2dc9c2880ce.png)





