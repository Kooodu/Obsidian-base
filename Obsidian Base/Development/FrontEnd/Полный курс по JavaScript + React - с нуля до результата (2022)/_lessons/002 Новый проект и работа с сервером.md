
Будет разрабатываться реальный сайт на основе данных, полученных с сайта по вселенной [Marvel](https://developer.marvel.com/). Отсюда нам нужно только произвести настройку доступности отправляемых запросов (ставим ото всюду `*.`) и сам ключ для совершения запросов `abfdaba95091affea928543eb9253ded`

![](_png/Pasted%20image%2020221025093836.png)



![](_png/Pasted%20image%2020230224115711.png)



```JS
// это класс для взаимодействия фронта с апи марвела  
class MarvelService {  
   api = 'abfdaba95091affea928543eb9253ded';  
  
   // данная функция будет фетчить данные с сервера и возвращать их  
   getResource = async (url) => {  
      let res = await fetch(url);  
  
      if (!res.ok) {  
         throw new Error(`Couldn't fetch ${url}, status: ${res.status}`);  
      }  
  
      return await res.json();  
   };  
  
   // эта функция будет получать всех персонажей по переданной ссылке  
   getAllCharacters = async () => {  
      return await this.getResource(`https://gateway.marvel.com:443/v1/public/characters?limit=9&offset=36&apikey=${this.api}`);  
   };  
  
   // эта функция будет получать одного персонажа по id  
   getCharacter = async (id) => {  
      return await this.getResource(`https://gateway.marvel.com:443/v1/public/characters/${id}?apikey=${this.api}`);  
   };  
}  
  
export default MarvelService;
```



```JSX
// создаём инстанс класса  
const marvelService = new MarvelService();  
  
// получаем персонажей с сервера и выводим их в консоль  
marvelService.getAllCharacters().then(res => console.log(res));  
  
// получаем одного персонажа с сервера  
marvelService.getCharacter(1009567).then(res => console.log(res));  
  
const root = ReactDOM.createRoot(document.getElementById('root'));  
  
root.render(  
   <React.StrictMode>  
      <App />  
   </React.StrictMode>  
);
```



![](_png/Pasted%20image%2020230224170428.png)



```JS
marvelService.getAllCharacters().then(res => res.data.results.forEach(item => console.log(item.name)));
```

![](_png/Pasted%20image%2020230224170639.png)





