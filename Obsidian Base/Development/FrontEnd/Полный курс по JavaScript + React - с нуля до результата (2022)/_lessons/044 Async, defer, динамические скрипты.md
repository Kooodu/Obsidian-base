
Тут нужно уопмянуть, что при расположении скрипта в `<head>` страницы у нас вылазит две проблемы:

1) Так как скрипт загрузился, а страница нет, то скрипту не с чем будет работать и он выдаст ошибку
2) Сам по себе скрипт стопорит загрузку HTML-страницы и при большом его весе у нас страница может долго загружаться

![](_png/ccbe57a890d57702edf81dc48be4de8d.png)

Но так же перед нами может встать другая проблема: очень большой проект. Сайт может содержать в себе тысячи элементов, которые могут очень долго загружаться. Это приведёт к тому, что скрипт может не сработать в тех местах, где нам это нужно было

![](_png/59dc286a5e8fe765614e7239531a1c6f.png)

Атрибут `defer` сообщает браузеру, чтобы он продолжал загружать страницу, но так же браузер должен загружать и скрипт в фоновом режиме, а затем запустить скрипт, когда он загрузится.

1) Скрипты с `defer` никогда не блокируют страницу
2) Скрипт запустится только тогда, когда DOM-дерево уже готово

![](_png/5b5a19f9306834449c1fe899f0f2ad6e.png)

Так же ещё одной особенностью является то, что скрипты выполняются последовательно друг за другом, даже если какой-то загрузился раньше.

Это позволяет нам закинуть те же скрипты в хедер сайта, но гугл сео-тест будет ругаться на такое расположение скриптов

![](_png/b9a69c7d44c8f3e9a3b95401dcca381e.png)

![](_png/4f18e02ccb113383ce3c8c6fb200a9d1.png)

Ещё один атрибут, который модифицирует работу скриптов – это `async`.

1) Страница не ждёт асинхронных скриптов – содержимое загружается и обрабатывается
2) Событие `DOMContentLoaded` и асинхронные скрипты не ждут друг друга

Тут уже нужно убедиться, что скрипты не зависят от DOM-структуры, так как выполняются они сразу же

![](_png/d53f995b5ac8b9b07b44dabd40bff38c.png)

И вот пример подключения скриптов по нужному порядку к сайту

![](_png/b79352255f4c6f49b771999f4a0d70f1.png)

![](_png/9047adcb533735a48bd978094f46233c.png)

![](_png/a560c6a9ad76d756e42ab8ecf8aab864.png)