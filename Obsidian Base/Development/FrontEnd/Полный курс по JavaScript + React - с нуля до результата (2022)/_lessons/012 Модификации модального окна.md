
Сейчас перед нами стоит задача: проявить модальное окно через определённое время либо, когда пользователь прокрутит до конца страницы

Первая задача выполняется крайне просто через `setTimeout` и очистку этого таймаута внутри функции, которая его вызывает (чтобы окно не открывалось, если его уже открывал пользователь)

![](_png/Pasted%20image%2020220909175623.png)
![](_png/Pasted%20image%2020220909175630.png)

Вот код, который выполняет вторую поставленную задачу. Срабатывание тут устроено немного сложно.

Для решения некоторых багов нужно добавить -1 пиксель от высоты всего документа пользователя

![](_png/Pasted%20image%2020220909175653.png)

Тут нужно кое-что отметить – нам нужно сделать срабатывание только **однажды**. И первое, что приходит в голову – это использовать настройку для ивент-листенера. Однако проблема заключается в том, что ивент скролла срабатыает сразу, как мы сделали первый скролл на странице

![](_png/Pasted%20image%2020220909175657.png)

Уже такой код позволит нам вызвать ивент ровно один раз в самом конце страницы

![](_png/Pasted%20image%2020220909175700.png)