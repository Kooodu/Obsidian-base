
Сейчас перед нами стоит задача: проявить модальное окно через определённое время либо, когда пользователь прокрутит до конца страницы

Первая задача выполняется крайне просто через `setTimeout` и очистку этого таймаута внутри функции, которая его вызывает (чтобы окно не открывалось, если его уже открывал пользователь)

![](_png/c9d7aed853b25f0c102d2e148e44fa31.png)
![](_png/f409bb277d06e68594352c6c66df51e2.png)

Вот код, который выполняет вторую поставленную задачу. Срабатывание тут устроено немного сложно.

Для решения некоторых багов нужно добавить -1 пиксель от высоты всего документа пользователя

![](_png/c56cec17eb300333a0642f57a00ae4e4.png)

Тут нужно кое-что отметить – нам нужно сделать срабатывание только **однажды**. И первое, что приходит в голову – это использовать настройку для ивент-листенера. Однако проблема заключается в том, что ивент скролла срабатыает сразу, как мы сделали первый скролл на странице

![](_png/bfbc0f3467e1dffbf43cc1a5e4f890a5.png)

Уже такой код позволит нам вызвать ивент ровно один раз в самом конце страницы

![](_png/409ae98b41d84316d331d59d0ca2b582.png)