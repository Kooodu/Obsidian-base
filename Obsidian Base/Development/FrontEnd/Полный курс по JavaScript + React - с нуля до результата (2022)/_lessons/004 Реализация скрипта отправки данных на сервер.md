
Сейчас нужно будет реализовать ПОСТ-запрос отправку данных на сервер и ответ пользователю

PHP файл будет возвращать данные, которые мы отправляем на сервер (принимает данные с клиента, превратит в строку и вернёт обратно) – это response от сервера

![](_png/85e08a3f00f6680b69178ade558f8334.png)
![](_png/7856acc4becf273c16a9237d311f903d.png)
![](_png/eb85331dc692d5a66287651978e41a16.png)

В классической работе браузера (без модификаций через JS) при отправке данных – они перезагружают страницу и показывают отправленные данные в url

Если инпут создан через тег `button`, то его тег `type` автоматически будет иметь `submit`

![](_png/0b549fea698e111e59bcf62b8e3056d6.png)

Самым первым делом мы получим все формы на нашей странице и заранее подготовим ответы пользователю по статусу отправки данных

![](_png/fd7658bfecdbe3cc7e61e28f795cea4e.png)

И дальше нам нужно будет создать фунцию, которая будет отправку наших данных на удалённый сервер. Внутри функции будет располагаться ивент, который будет срабатывать на инпутах формы при сабмите (баттоны изначально имеют в себе такой вшитый атрибут). Обязательно в начале нужно сбросить обычное поведение объекта при срабатывании (чтобы страница не перезагружалась)

![](_png/924a18c4e5bcdfec8d9f8bd113b674fa.png)

Так же отдельно хочется выделить данный функционал. Он позволяет не брать отдельно каждую форму и не перебирать отдельно значения. Данный конструктор позволяет собрать автоматически все данные с формы, которую в него пихнули

![](_png/a74137dbf8faaff0f331f9a3199875c2.png)

> Однако обязательно, чтобы сработал `FormData`, нужно чтобы в инпутах внутри формы были прописаны атрибуты `name=”имя_формы”`

![](_png/dc7383cd31e75d765963724d9585d0f1.png)

И дальше нам нужно создать ивент листенер внутри функции, который при полной загрузке запроса будет выводить в консоль сам отправленный запрос (для нас), показывать статус отправки для пользователя и очищать формы.

`reset` – сбросит форму
`remove` – удаляет объект со страницы

![](_png/5c899add09db91d9473e48930b276e15.png)

И в конечном итоге нам нужно применить нашу созданную функцию на все формы (через функцию мы накидываем ивент-листенеры на формы и формируем из них данные)

![](_png/615282d49c31b6317aafe005e1dfdf0f.png)

И сразу при запуске мы встречаемся с непонятной ошибкой, которая нам говорит, что наши данные анонимны и не могут быть обработаны сервером

![](_png/119bb0e89b07a1372279ab33843be00d.png)
![](_png/5c7296f010f92f090adaf6e5c90024b2.png)

И тут уже кроется очень важная особенность работы с ПОСТ-запросами. Если мы используем `XMLHttpRequest`, *ПОСТ-запрос* и передаём данные через `FormData`, то *указывать хедер нам нелья*, так как вылезет ошибка

![](_png/23799214df8ba30497ccd4ac193440d7.png)
![](_png/960888e90941f60a81f5d05c0c08b3da.png)

И так же теперь в консоли мы можем увидеть данные

![](_png/ab62973d5d809ceab18ee4c60e9f3a37.png)

Ну и так же в нетворке можно просмотреть и данные, которые были отправлены на сервер

![](_png/23de717733350a8a152ce1d7e8d21f3e.png)

И так же можно переписать немного код для работы с JSON-данными, а не отправлять через FormatData. Тут уже хедер нам нужно использовать

Так же нужно упомянуть, что PHP не умеет нативно работать с JSON

![](_png/35e3d367c03e0d9c892bf1dd4293c785.png)

Вот php-код, который обработает JSON-данные с сервера

![](_png/d05726bc02cf9f227399049acad2ecd9.png)
- И код работает нормально и ровно так же, как и раньше
![](_png/13ac8b4f48e7dd0d5adb917033c1b733.png)

Полный код:

![](_png/35f8c577f013bfd3a0406b736b3dd260.png)
![](_png/353d118d1bd4b10f42a5b42d12778777.png)
![](_png/438eed0fd20d2d415b471ed57d9f8a89.png)