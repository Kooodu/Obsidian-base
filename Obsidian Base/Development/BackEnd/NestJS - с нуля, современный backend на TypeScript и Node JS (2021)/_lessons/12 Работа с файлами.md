
## 001 Загрузка файлов

Очень хорошей практикой будет реализовать сервер, который примет изображения и будет сам на фронт отправлять их в формат webp

Тут мы так же сохраняем архитектуру классического сервера:
- контроллер хранит логику принятия и отправки результатов запросов посредством использования методов из сервиса
- сервис же выполняет конкретную логику для выполнения задачи

```bash
nest g module files
nest g controller files --no-spec
nest g service files --no-spec
```

Данный модуль позволит нам типизировать файлы

```bash
npm i -D @types/multer
```

Данный модуль позволит нам упростить работу с встроенным в ноду функционалом `fs` (например, не писать проверки на существование папки)

```bash
npm i fs-extra
npm i -D @types/fs-extra
```

Данный модуль позволит нам вне зависимости от ОС определять корневую папку корректно

```bash
npm i app-root-path
npm i -D @types/app-root-path
```

Далее нам нужно будет реализовать функционал для генерации папки с именем дня, чтобы складывать в неё изображения 

```bash
npm i date-fns
```

Interceptor - это декторатор в несте, который позволяет перехватить запрос и (например) воспользоваться напрямую функцией для работы с файлами

Конкретно можно обернуть контроллер в `@UseInterceptors()`, в который вложим `FileInterceptor('files')` (`'files'` - это имя мультиплатформы, в которой лежит файл), который уже и предоставит нам возможность работать с методами файлов

`src > files > files.controller.ts`
```TS

```

Далее нам нужно реализовать сервис:
- `ensureDir` - данная функция обеспечивает создания дирректории (если папка есть, то хорошо, а если нет, то она будет создана)

`src > files > files.service.ts`
```TS

```




## 002 Конвертация изображений








## 003 Serve файлов








