## 062 Обзор архитектуры

Предобработчиком нашего запроса будет `middleware`, который уже будет передавать данные на обработку в контроллер. 

Контроллер непосредственно обрабатывает запросы от пользователей.

С точки зрения слоёной архитекторы, вся бизнес-логика должна содержаться в сервисах. Сам контроллер должен просто вызвать сервис. Сервис уже сам общается с репозиторием.

Репозиторий отвечает за непосредственное общение с базой данных.

![](_png/Pasted%20image%2020221126115033.png)

Эта архитектура позволяет легко заменять определённые технологии. Например, поменяем нашу базу данных - нам придётся поменять только логику репозитория.

Так же эту систему будет легко поддерживать, так как вся логика для отдельного модуля содержится в этом одном модуле. Если нужно будет поменять сервис, то нам нужно будет править только сервис.

## 063 Пишем класс приложения







## 064 Добавляем логгер







## 065 Базовый класс контроллера







## 066 Упражнение - Контроллер пользователей







## 067 Обработка ошибок







