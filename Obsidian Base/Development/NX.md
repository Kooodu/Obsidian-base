
## Имплементация монорепы

Сейчас будет пример создания трёх приложений и двух библиотек
  
- Два приложения React: клиентское и административное.  
- Библиотека React с именем common-components, которая будет содержать компоненты, совместно используемые проектами React
- А Node.js сервер с именем backend
- Библиотека TypeScript с именами функций, которые будут использоваться серверной частью

## Установка

Чтобы создать базовый проект с NX, нам нужно создать workspace, в котором у нас будут находиться проекты

```bash
npx create-nx-workspace@latest <project>
```

У нас в процессе создания монорепы будет возможность выбрать установку для одного проекта и для моддержки монорепозитория. Среда для одного проекта скорее нужна только для оптимизации загрузки пакетов, сборки билдов и CI/CD

![](_png/Pasted%20image%2020240619195230.png)

Далее нам нужно установить пакеты, которые будут контролировать проекты с определёнными технологиями (установили и добавили в окружение пакеты для работы с нодой, экспрессом, нестом, некстом и реакт). Каждый из этих пакетов предоставляет дополнительные возможности для CLI по установке новых приложений.

```bash
# Установит nextjs приложение
nx add @nx/next
# Другие популярные сетапы
nx add @nx/react 
nx add @nx/express 
nx add @nx/nest 
nx add @nx/node
```

После ввода данной команды мы создаём второй проект. Проекты создаются через вызов установленного проекта `@nx/react` с флагом `:app`. После этого проект с React создастся в папке `apps/admin`, а в `apps/backend` проект с нодой

```bash
npx nx g @nx/react:app admin
npx nx g @nx/node:app backend
```

Чтобы создать библиотеку для React-проектов, нам нужно задать через пакет `@nx/react` с флагом `:lib` папку с распространяемыми компонентами. Флаг `:lib` создаёт проект с шейребл компонентами приложения под выбранный стек пакета. Конкретно тут можно расположить общие компоненты для нескольких проектов и они будут собираться из конфига, который находится внутри папки `lib/common-components`  

```
npx nx g @nx/react:lib common-components
```

Данная команда создаст общие для всех проектов компоненты 

```
npx nx g @nx/js:lib functions
```



```bash

```








