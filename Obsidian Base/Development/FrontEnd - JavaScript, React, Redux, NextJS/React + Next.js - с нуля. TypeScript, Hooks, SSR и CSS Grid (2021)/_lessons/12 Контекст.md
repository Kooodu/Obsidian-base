
## 001 useContext

Контекст - это определённый посредник или контейнер, который позволяет передавать данные между компонентами в любом порядке, вызывая определённую функцию 

Когда стоит использовать контекст?
- Когда цепочка передачи становится слишком длинной
- Когда одни конкретные данные нужно передавать во все компоненты

![](_png/Pasted%20image%2020230126193224.png)

Создаётся контекст подобным образом:

![](_png/Pasted%20image%2020230126193647.png)

Далее идёт **провайдер**. 
==Провайдер== - это обёртка, которая позволяет оборачивать корень нашего компонента в нужный нам контекст.
Ниже приведён провайдер в качестве компонента. Такой провайдер позволяет нам использовать все стейты и эффекты для обработки события. Данный провайдер принимает в себя определённое значение + у него должны быть дочерние элементы (если будут вложены)

![](_png/Pasted%20image%2020230126193735.png)

Чтобы получить контекст внутри другого компонента, то мы можем воспользоваться хуком
Функция `useContext` будет выполняться в `next`, но ровно до того момента, как она будет отдана на фронт. То есть переданные значения в `useContext` будут отображаться в пререндере

![](_png/Pasted%20image%2020230126193937.png)

Дополнительно:
1) `MyContext.Consumer` позволяет динамически получать контекст и что-то отредерить. Используется редко, так как чаще используется хук `useContext`
2) Так же мы можем задать имя контексту, чтобы его можно было увидеть в ==devTools==

![](_png/Pasted%20image%2020230126194038.png)

## 002 Пишем свой контекст





`context / app.context.tsx`
```TSX
import { createContext, ReactNode, useState } from 'react';
import { MenuItem } from '../interfaces/menu.interface';
import { TopLevelCategory } from '../interfaces/page.interface';

export interface IAppContext {
	menu: MenuItem[];
	firstCategory: TopLevelCategory;
	setMenu?: (newMenu: MenuItem[]) => void;
}

export const AppContext = createContext<IAppContext>({ menu: [], firstCategory: TopLevelCategory.Courses });

export const AppContextProvider = ({ menu, firstCategory, children }: IAppContext & { children: ReactNode }): JSX.Element => {
	const [menuState, setMenuState] = useState<MenuItem[]>(menu);
	const setMenu = (newMenu: MenuItem[]) => {
		setMenuState(newMenu);
	};

	return <AppContext.Provider value={{ menu: menuState, firstCategory, setMenu }}>
		{children}
	</AppContext.Provider>;
};
```








## 003 Вёрстка меню




![](_png/Pasted%20image%2020230127171140.png)



